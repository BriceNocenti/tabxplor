% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fmtn_class.R
\name{fmt}
\alias{fmt}
\alias{new_fmt}
\alias{is_fmt}
\title{Create a vector of class formatted numbers.}
\usage{
fmt(
  type = "n",
  n = integer(),
  wn = rep(NA_real_, length(n)),
  pct = rep(NA_real_, length(n)),
  diff = rep(NA_real_, length(n)),
  digits = rep(0L, length(n)),
  ctr = rep(NA_real_, length(n)),
  mean = rep(NA_real_, length(n)),
  var = rep(NA_real_, length(n)),
  ci = rep(NA_real_, length(n)),
  in_totrow = rep(FALSE, length(n)),
  in_tottab = rep(FALSE, length(n)),
  col_var = NA_character_,
  totcol = FALSE,
  pct_type = NA_character_,
  ci_type = NA_character_,
  color = NA_character_,
  comp_all = FALSE
)

new_fmt(
  type = "n",
  n = integer(),
  wn = rep(NA_real_, length(n)),
  pct = rep(NA_real_, length(n)),
  diff = rep(NA_real_, length(n)),
  digits = rep(0L, length(n)),
  ctr = rep(NA_real_, length(n)),
  mean = rep(NA_real_, length(n)),
  var = rep(NA_real_, length(n)),
  ci = rep(NA_real_, length(n)),
  in_totrow = rep(FALSE, length(n)),
  in_tottab = rep(FALSE, length(n)),
  col_var = NA_character_,
  totcol = FALSE,
  pct_type = NA_character_,
  ci_type = NA_character_,
  color = NA_character_,
  comp_all = FALSE
)

is_fmt(x)
}
\arguments{
\item{type}{The type of printing or background calculation, "n" for counts, "pct" for
percentages, "mean" for means.}

\item{n}{The underlying count, as an integer vector of the same length, used with
type = "pct" to calculate confidence intervals.}

\item{wn}{The underlying weighted counts, as an integer vector of the same length. It
it used in certain operations on \code{\link{fmt}}, like means.}

\item{pct}{A double vector. For \code{\link{fmt}} and \code{\link{as_fmt}},
anything coercible to double.}

\item{digits}{The number of digits, as an integer or integer vector of the length of the
data. It can then be changed with \code{vctrs::`field<-`(x, "digits", value)}.}

\item{var}{The standards deviations, used with type = "mean" to calculate confidence
intervals.}

\item{ci}{The confidence intervals to print, if they have been calculated.}

\item{x}{A double vector. For \code{\link{fmt}} and \code{\link{as_fmt}},
anything coercible to double.}
}
\value{
A numeric vector of class fmt.

A numeric vector of class fmt.
}
\description{
fmt vectors can be used to print each number with the chosen digits or as
percentages in a \code{\link[tablr]{tab}}, while keeping the underlying numeric data
for maths. It also keeps track of the counts and weighted counts beneath any percentage
or  mean, and can be used to calculate and print confidence intervals.
\code{fmt} can use all standard operations, like +, -, sum(), or c(), using vctrs.
}
\section{Functions}{
\itemize{
\item \code{new_fmt}: A constructor for class fmt.

\item \code{is_fmt}: A test function for class fmt.
}}

\examples{
num1 <- fmt(c(0.7, 1.2, 7), type = c("n", "pct", "mean"), digits = c(0, 1, 2),
n = c(5, 10, 15), wn = c(4.7, 12.1, 13.9) )
num1
num1[1] + num1[2] + num1[3]
# To access the underlying data :
sum(num1[1], num1[2], num1[3]) \%>\% vctrs::vec_data()
# To access the underlying weighted counts :
fmt(1, wn = 20) \%>\% vctrs::field("wn")
Create a vector of class formatted numbers.
fmt(0.7, "pct")
}
